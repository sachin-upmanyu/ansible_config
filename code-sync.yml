
# This playbook deploys the whole application stack in this site.

# Apply common configuration to all hosts

- hosts: workers
  tasks:
    # make sure code directory exists
    - name: Make sure that code directory exists
      action: file path=/var/www/html/Distributed/Worker state=directory

    # transfer master code
    - synchronize: src=/var/www/html/Distributed/Worker/ dest=/var/www/html/Distributed/Worker/


- hosts: masters
  tasks:
    # make sure code directory exists
    - name: Make sure that code directory exists
      action: file path=/var/www/html/Distributed/Master state=directory

    # transfer master code
    - synchronize: src=/var/www/html/Distributed/Master/ dest=/var/www/html/Distributed/Master/
